# skin_diagnosis
# 智能皮肤病检测与护肤品推荐系统
基于多模型协同的皮肤病检测工具，可自动识别皮肤病类型、生成护理建议，并结合电商数据推荐适配的护肤品，实现“检测-建议-推荐”闭环。  

## 背景与价值
- 用于训练多模态皮肤病检测系统的数据要求苛刻，非专业人士无法标注，且多模态模型的训练和推理的算力要求高    
- 皮肤病分类模型结构简单，且有充足和多样的公开数据集。  


## 应用场景  
- 普通用户居家皮肤自查  
- 护肤品电商平台辅助选品  

## 模型简介  
- 通过微调mobilenet_v3_large分类模型，使用PAD-UFES-20数据集训练，将皮肤病分为6类  
  - 其中在原分类模型的基础上输入通道加入年龄和部位两个特征，辅助分类  
  - [PAD-UFES-20数据集获取链接](https://data.mendeley.com/datasets/zr7vgbcyr2/1)  
- 通过微调两个efficientnet_b4分类模型，使用DERMATOLOGY ATLAS数据集，分别将皮肤病分为5大类和69小类
  - [DERMATOLOGY ATLAS数据集](https://atlasdermatologico.com.br/browse.jsf)
- 最后通过调用火山引擎中的大语言模型的api，将多个分类结果和患者信息一起发送，将大语言模型输出通过streamlit在前端显示  
- ~~通过大语言模型的相关护肤品推荐，通过爬虫在电商平台搜索优质产品并推荐~~（待开发）

 


##  使用说明
1. 安装python3.9
2. 安装 *requirements.txt*中的依赖
3. 登录火山引擎网页获取开通相应模型
   - 在 *chat.py*中可以修改火山引擎大语言模型api调用的相关内容  
4. 使用时需要在根目录新建一个 *.streamlit* 文件夹，其中包含一个 *.secrets.toml* 文件，将在火山引擎获取的秘钥写入
   格式为 *doubao_api_key = xxxxxxxxxxxxxxxxx*
5. 在终端输入  
   ```python 
   streamlit run app.py


## 方案选取理由
1. 为什么不选目标检测模型？
   - 本项目需要实现的功能是 '我这里的皮肤有病变，但是不确定是什么病以及怎么解决'，而不是'帮我在我的图上找出哪里有皮肤病'，所以模型应专注于分析图片属于什么病变，而不是找到病变在哪里。
   - 标注好的皮肤病分类公开数据集获取渠道众多，但是几乎没有公开数据集有皮肤病的目标检测或者语义分割所需的数据集。
   - 分类模型结构简单，所需的算力要求低，在cpu或者移动端可以轻松完成推理。
2. 待补充

## 后续更新内容  
1. 完成护肤品推荐系统  
2. 完善readme.md的内容
   
   